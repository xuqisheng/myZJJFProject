!function(a){var t=function(t,e){var i=a('[data-groupname="'+t+'"][data-tab="item"]'),c=a('[data-groupname="'+t+'"][data-tab="content"]'),s=i.filter("."+(e||"active"));if(1==s.length){var n=i.index(s);c.not(c.eq(n)).hide()}else c.not(":first").hide();a("html, body").on("click",'[data-groupname="'+t+'"][data-tab="item"]',function(){var t=i.index(this);a(this).addClass(e||"active"),i.not(i.eq(t)).removeClass(e||"active"),c.eq(t).show(),c.not(c.eq(t)).hide()})},e=function(t){var e=a(window).width()>a(t).width()?a(window).width():a(t).width(),i=a(window).height()>a(t).height()?a(window).height():a(t).height(),c=(e-a(t).width())/2,s=(i-a(t).height())/2;a(t).css({left:c,top:s})};a.fn.cascader=function(i){var c=a(this),s={},n='<div class="cascader J_cascader"><div class="cascader-selected"><span class="text">选择区域</span><i class="select-close J_close"></i></div><div class="cascader-picker J_picker"><div  class="cascader-picker-tit"> <span class="select-box active J_provinceItem" data-groupname="'+i.name+'" data-tab="item"><span class="text">省</span><i class="select-arrow"></i></span> <span class="select-box J_cityItem" data-groupname="'+i.name+'" data-tab="item"><span class="text">市</span><i class="select-arrow"></i></span> <span class="select-box J_areaItem" data-groupname="'+i.name+'" data-tab="item"><span class="text">区</span><i class="select-arrow"></i></span> </div> <div class="cascader-picker-cont J_province" data-groupname="'+i.name+'" data-tab="content"></div><div class="cascader-picker-cont J_city" data-groupname="'+i.name+'" data-tab="content"></div><div class="cascader-picker-cont J_area" data-groupname="'+i.name+'" data-tab="content"></div></div></div><div class="cascader-cover J_cascaderCover"></div>';c.html(n),t(i.name);var d=!0;a.ajax({url:i.url,type:"GET",dataType:"json",cache:!1}).done(function(t){s=t;var e="";e+='<ul class="ul">',a.each(s,function(a,t){e+='<li class="li" data-value="'+t.id+'">'+t.name+"</li>"}),e+="</ul>",c.find(".J_province").html(e)}),d?(d=!1,a(this).addClass("active"),a(".J_cascaderCover").show(),c.find(".J_cascader").show()):(d=!0,a(this).removeClass("active"),a(".J_cascaderCover").hide(),c.find(".J_cascader").hide()),e(".J_cascader"),c.on("click",".J_close",function(){a(".J_cascaderCover").hide(),c.find(".J_cascader").hide()});var l="",r="",o="",h="",u="",m="",f="";c.find(".J_province").on("click",".li",function(){l=a(this).attr("data-value"),h=a(this).text(),c.find(".J_provinceItem .text").text(a(this).text());var t="";t+='<ul class="ul">',a.each(s,function(e,i){s[e].id==l&&a.each(i.sub,function(a,e){t+='<li class="li" data-value="'+e.id+'">'+e.name+"</li>"})}),t+="</ul>",c.find(".J_city").html(t),c.find(".J_cityItem").trigger("click"),c.find(".J_cityItem .text").text("市"),c.find(".J_areaItem .text").text("区"),c.find(".J_area").empty(),r="",o="",u="",m="",f=h}),c.find(".J_city").on("click",".li",function(){r=a(this).attr("data-value"),u=a(this).text(),c.find(".J_cityItem .text").text(a(this).text());var t="";t+='<ul class="ul">',a.each(s,function(e,i){a.each(i.sub,function(e,i){i.id==r&&a.each(i.sub,function(a,e){t+='<li class="li" data-value="'+e.id+'">'+e.name+"</li>"})})}),t+="</ul>",c.find(".J_area").html(t),c.find(".J_areaItem").trigger("click"),c.find(".J_areaItem .text").text("区"),c.find(".J_town").empty(),o="",m="",f=h+"/"+u,v=l+","+r}),c.find(".J_area").on("click",".li",function(){o=a(this).attr("data-value"),m=a(this).text(),c.find(".J_areaItem .text").text(a(this).text()),f=h+"/"+u+"/"+m,v=l+","+r+","+o,i.complete(f,v),d=!0,a(".J_cascaderCover").hide(),c.find(".J_cascader").hide()})}}(jQuery);